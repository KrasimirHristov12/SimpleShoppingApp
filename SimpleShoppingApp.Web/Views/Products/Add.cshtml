@model AddProductInputModel
@{
    ViewData["Title"] = "Add new product";
    var Categories = Model.Categories.Select(c => new SelectListItem
    {
        Text = c.Name,
        Value = c.Id.ToString(),
    });

    var ImagesUrls = Model.ImagesUrls?.ToList() ?? new List<string>();
}

<div asp-validation-summary="All" class="text-danger"></div>

<div class="offset-md-4 col-md-5">
    <form method="post" enctype="multipart/form-data">
        <div>
            <label asp-for="Name"></label>
            <input asp-for="Name" class="form-control" />
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>

        <div>
            <label asp-for="Description"></label>
            <textarea asp-for="Description" class="form-control"></textarea>
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>

        <div>
            <label asp-for="CategoryId"></label>
            <select asp-for="CategoryId" class="form-select" asp-items="Categories"></select>
            <span asp-validation-for="CategoryId" class="text-danger"></span>
        </div>

        <div>
            <label asp-for="Price"></label>
            <input asp-for="Price" class="form-control" />
            <span asp-validation-for="Price" class="text-danger"></span>
        </div>

        <div>
            <label asp-for="Quantity"></label>
            <input asp-for="Quantity" class="form-control" />
            <span asp-validation-for="Quantity" class="text-danger"></span>
        </div>

        <div>
            <label asp-for="Images"></label>
            <input asp-for="Images" class="form-control" />
            <span asp-validation-for="Images" class="text-danger"></span>
        </div>

        <div>
            <label for="@(nameof(Model.ImagesUrls))[0]">Images Urls</label>
            <input name="@(nameof(Model.ImagesUrls))[0]" id="@(nameof(Model.ImagesUrls))[0]" value="@(ImagesUrls.Count > 0 ? ImagesUrls[0] : "")" class="form-control image-url mb-1"/>
            <input name="@(nameof(Model.ImagesUrls))[1]" id="@(nameof(Model.ImagesUrls))[1]" value="@(ImagesUrls.Count > 1 ? ImagesUrls[1] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <input name="@(nameof(Model.ImagesUrls))[2]" id="@(nameof(Model.ImagesUrls))[2]" value="@(ImagesUrls.Count > 2 ? ImagesUrls[2] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <input name="@(nameof(Model.ImagesUrls))[3]" id="@(nameof(Model.ImagesUrls))[3]" value="@(ImagesUrls.Count > 3 ? ImagesUrls[3] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <input name="@(nameof(Model.ImagesUrls))[4]" id="@(nameof(Model.ImagesUrls))[4]" value="@(ImagesUrls.Count > 4 ? ImagesUrls[4] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <input name="@(nameof(Model.ImagesUrls))[5]" id="@(nameof(Model.ImagesUrls))[5]" value="@(ImagesUrls.Count > 5 ? ImagesUrls[5] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <input name="@(nameof(Model.ImagesUrls))[6]" id="@(nameof(Model.ImagesUrls))[6]" value="@(ImagesUrls.Count > 6 ? ImagesUrls[6] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <input name="@(nameof(Model.ImagesUrls))[7]" id="@(nameof(Model.ImagesUrls))[7]" value="@(ImagesUrls.Count > 7 ? ImagesUrls[7] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <input name="@(nameof(Model.ImagesUrls))[8]" id="@(nameof(Model.ImagesUrls))[8]" value="@(ImagesUrls.Count > 8 ? ImagesUrls[8] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <input name="@(nameof(Model.ImagesUrls))[9]" id="@(nameof(Model.ImagesUrls))[9]" value="@(ImagesUrls.Count > 9 ? ImagesUrls[9] : "")" class="form-control d-none image-url mt-1 mb-1" />
            <span asp-validation-for="ImagesUrls" class="text-danger"></span>
            <button class="btn btn-primary add-url-btn"><i class="bi bi-plus"></i></button>
        </div>

        <div class="mt-3">
            <button type="submit" class="btn btn-success">Add</button>
        </div>

    </form>
</div>

@section Scripts {
    <script src="~/js/add-product.js"></script>
}